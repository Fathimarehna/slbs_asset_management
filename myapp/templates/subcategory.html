{% extends 'base.html' %}
{% load static %}

{% block content %}

  
<h1 class="text-dark text-center fw-bold  mt-5">Subcategory</h1> 
<br>


<div class="text-end px-4">
    <a href="{% url 'subcategory_create' %}" class="btn btn-danger">Add New Subcategory</a>
    <a href="{% url 'admin_dashboard' %}" class="btn btn-secondary">Back</a>
</div>
<br>
<br>

<table border="1" class="table table-secondary table-striped mx-auto" style="width: 1000px;">
    <tr>
        <th>ID</th>
        <th>Title</th>
        <th>Category</th>
        <th>Status</th>
        <th>Created</th>
        <th>Updated</th>
        <th>Actions</th>
    </tr>
    {% for subcategory in subcategories %}
    <tr>
        <td>{{ forloop.counter }}</td>
        <td>{{ subcategory.title }}</td>
        <td>{{ subcategory.category.title}}</td>


        <td>
            
            {% if subcategory.status %}
                Active
            {% else %}
                Inactive
            {% endif %}
        </td>


        <td>{{ subcategory.created_date }}</td>
        <td>{{ subcategory.updated_date }}</td>
        <td>
                <a href="{% url 'subcategory_update' subcategory.id %}" class="btn btn-sm btn-primary"><i class="fas fa-edit"></i>Edit</a>


                {% if subcategory.status %}
                <!-- If active, show Soft Delete button -->
                <a href="{% url 'toggle_subcategory_status' subcategory.id %}" class="btn btn-sm btn-warning">Deactivate</a>
                {% else %}
                <!-- If inactive, show Activate button -->
                <a href="{% url 'toggle_subcategory_status' subcategory.id %}" class="btn btn-sm btn-success">Activate</a>
                {% endif %}

                <a href="{% url 'subcategory_delete' subcategory.id %}" class="btn btn-sm btn-danger"><i class="fas fa-trash"></i>Delete</a>

                
            </td>
    </tr>
    {% endfor %}
</table>

{% endblock %}